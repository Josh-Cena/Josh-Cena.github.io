---
description: "Advent of Code 2019 - Day 11: Space Police. Written in C++."
tags:
  - Intcode
year: 2019
day: 11
---

# AoC 2019 D11: Space Police

import { FrontMatter, Footer } from "../_components";

<FrontMatter frontMatter={frontMatter} />

The only additional capability from [day 7](/notes/aoc/2019/7) is that instead of having one number output at a time, the program now produces two outputs before pausing. Since the size is fixed, I just call `run_until_output()` twice to get both outputs.

## Parts 1 & 2

Both parts work the same way. I keep track of the robot's position and direction, and a map of painted panels. Each time, I use `send_input()` to provide the current panel color, then call `run_until_output()` to get the new color and direction. Abstractly:

```cpp
int x = 0, y = 0;
int dir_x = 0, dir_y = -1;
while (!prog.halted) {
    prog.send_input(panels.find({x, y}) != panels.end() ? panels[{x, y}] : 0);
    prog.run_until_output();
    if (prog.halted) break;
    panels[{x, y}] = prog.pop_output();
    prog.run_until_output();
    int turn = prog.pop_output();
    // Update direction
}
```

<Footer frontMatter={frontMatter} />
