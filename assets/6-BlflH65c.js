import{u as i,j as s}from"./index-BkHp0GFc.js";import{F as m,a as t}from"./_components-Bb0yU4yQ.js";const n={description:"Advent of Code 2021 - Day 6: Lanternfish. Written in TypeScript.",tags:["Dynamic programming"],year:2021,day:6,title:"AoC 2021 D6: Lanternfish"};function l(a){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",msub:"msub",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",svg:"svg",...i(),...a.components};return s.jsxs(s.Fragment,{children:[s.jsx(e.h1,{children:"AoC 2021 D6: Lanternfish"}),`
`,`
`,s.jsx(m,{frontMatter:n}),`
`,s.jsx(e.h2,{children:"Parts 1 & 2"}),`
`,s.jsx(e.p,{children:"The naïve solution is to simulate each fish individually:"}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-ts",children:`fishes = fishes.flatMap((fish) => (fish === 0 ? [6, 8] : [fish - 1]));
`})}),`
`,s.jsx(e.p,{children:"However, the number of fish grows exponentially, so this doesn't work for part 2. The next observation is that all fish with the same internal timer behave identically. Therefore, we can put fish into 9 bins based on their internal timer (0 to 8). Each day, the fish in each bin move to the next lower bin, and the fish in bin 0 create new fish in bin 8 and also move to bin 6."}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"d"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"t"})]}),s.jsx(e.mo,{stretchy:"false",children:"["}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mo,{stretchy:"false",children:"]"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mrow,{children:[s.jsx(e.mo,{fence:"true",children:"{"}),s.jsxs(e.mtable,{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em",children:[s.jsxs(e.mtr,{children:[s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"d"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"p"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{stretchy:"false",children:"["}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{stretchy:"false",children:"]"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mi,{children:"d"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"p"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{stretchy:"false",children:"["}),s.jsx(e.mn,{children:"0"}),s.jsx(e.mo,{stretchy:"false",children:"]"})]})})}),s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mtext,{children:"if "}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"6"})]})})})]}),s.jsxs(e.mtr,{children:[s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"d"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"p"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{stretchy:"false",children:"["}),s.jsx(e.mn,{children:"0"}),s.jsx(e.mo,{stretchy:"false",children:"]"})]})})}),s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mtext,{children:"if "}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"8"})]})})})]}),s.jsxs(e.mtr,{children:[s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"d"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"p"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{stretchy:"false",children:"["}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{stretchy:"false",children:"]"})]})})}),s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsx(e.mtext,{children:"otherwise"})})})]})]})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`dp_t[c] = \\begin{cases}dp_{t-1}[c+1] + dp_{t-1}[0] & \\text{if } c = 6 \\\\
dp_{t-1}[0] & \\text{if } c = 8 \\\\
dp_{t-1}[c+1] & \\text{otherwise}\\end{cases}`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.2806em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"["}),s.jsx(e.span,{className:"mord mathnormal",children:"c"}),s.jsx(e.span,{className:"mclose",children:"]"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"4.32em",verticalAlign:"-1.91em"}}),s.jsxs(e.span,{className:"minner",children:[s.jsx(e.span,{className:"mopen",children:s.jsx(e.span,{className:"delimsizing mult",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"2.35em"},children:[s.jsxs(e.span,{style:{top:"-2.2em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{className:"delimsizinginner delim-size4",children:s.jsx(e.span,{children:"⎩"})})]}),s.jsxs(e.span,{style:{top:"-2.192em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{style:{height:"0.316em",width:"0.8889em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"0.8889em",height:"0.316em",style:{width:"0.8889em"},viewBox:"0 0 888.89 316",preserveAspectRatio:"xMinYMin",children:s.jsx(e.path,{d:"M384 0 H504 V316 H384z M384 0 H504 V316 H384z"})})})]}),s.jsxs(e.span,{style:{top:"-3.15em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{className:"delimsizinginner delim-size4",children:s.jsx(e.span,{children:"⎨"})})]}),s.jsxs(e.span,{style:{top:"-4.292em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{style:{height:"0.316em",width:"0.8889em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"0.8889em",height:"0.316em",style:{width:"0.8889em"},viewBox:"0 0 888.89 316",preserveAspectRatio:"xMinYMin",children:s.jsx(e.path,{d:"M384 0 H504 V316 H384z M384 0 H504 V316 H384z"})})})]}),s.jsxs(e.span,{style:{top:"-4.6em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{className:"delimsizinginner delim-size4",children:s.jsx(e.span,{children:"⎧"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.85em"},children:s.jsx(e.span,{})})})]})})}),s.jsx(e.span,{className:"mord",children:s.jsxs(e.span,{className:"mtable",children:[s.jsx(e.span,{className:"col-align-l",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"2.41em"},children:[s.jsxs(e.span,{style:{top:"-4.41em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2083em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"["}),s.jsx(e.span,{className:"mord mathnormal",children:"c"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mclose",children:"]"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2083em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"["}),s.jsx(e.span,{className:"mord",children:"0"}),s.jsx(e.span,{className:"mclose",children:"]"})]})]}),s.jsxs(e.span,{style:{top:"-2.97em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2083em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"["}),s.jsx(e.span,{className:"mord",children:"0"}),s.jsx(e.span,{className:"mclose",children:"]"})]})]}),s.jsxs(e.span,{style:{top:"-1.53em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2083em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"["}),s.jsx(e.span,{className:"mord mathnormal",children:"c"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mclose",children:"]"})]})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.91em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"arraycolsep",style:{width:"1em"}}),s.jsx(e.span,{className:"col-align-l",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"2.41em"},children:[s.jsxs(e.span,{style:{top:"-4.41em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"if "})}),s.jsx(e.span,{className:"mord mathnormal",children:"c"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mord",children:"6"})]})]}),s.jsxs(e.span,{style:{top:"-2.97em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"if "})}),s.jsx(e.span,{className:"mord mathnormal",children:"c"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mord",children:"8"})]})]}),s.jsxs(e.span,{style:{top:"-1.53em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:"otherwise"})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.91em"},children:s.jsx(e.span,{})})})]})})]})}),s.jsx(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),`
`,s.jsx(e.p,{children:`I'm labeling this "Dynamic programming" because we have a state and a state transition. But this is really just bin counting.`}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-ts",children:`let counterToCount = Array.from({ length: 9 }, () => 0);
for (const fish of fishes) {
  counterToCount[fish]++;
}
for (let day = 1; day <= days; day++) {
  const newCounterToCount = Array.from({ length: 9 }, () => 0);
  for (let newCounter = 0; newCounter < 8; newCounter++) {
    newCounterToCount[newCounter] = counterToCount[newCounter + 1];
  }
  newCounterToCount[6] += counterToCount[0];
  newCounterToCount[8] = counterToCount[0];
  counterToCount = newCounterToCount;
}
`})}),`
`,s.jsx(t,{frontMatter:n})]})}function h(a={}){const{wrapper:e}={...i(),...a.components};return e?s.jsx(e,{...a,children:s.jsx(l,{...a})}):l(a)}export{h as default,n as frontMatter};
