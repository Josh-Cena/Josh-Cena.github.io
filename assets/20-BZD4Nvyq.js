import{u as m,j as s}from"./index-DMPu5IjH.js";import{P as c,a as r}from"./_components-Cf-Fn7vF.js";const n={tags:["Geometry"],description:"Advent of Code 2024 - Day 20: Race Condition, a problem that involves Geometry. Solution written in OCaml, with detailed walkthrough and proof.",year:2024,day:20,title:"Advent of Code 2024 - Day 20: Race Condition"};function l(e){const a={annotation:"annotation",code:"code",em:"em",h1:"h1",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",...m(),...e.components};return s.jsxs(s.Fragment,{children:[s.jsxs(a.h1,{children:["Advent of Code 2024 - Day 20",s.jsx(a.span,{className:"subtitle",children:"Race Condition"})]}),`
`,`
`,s.jsx(c,{frontMatter:n}),`
`,s.jsx(a.p,{children:"This problem pays tribute to 2017 day 24 (unimplemented)."}),`
`,s.jsxs(a.p,{children:["The total time of a path that uses a cheat from ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsx(a.mrow,{children:s.jsx(a.mi,{children:"a"})}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"a"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"})]})})]})," to ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsx(a.mrow,{children:s.jsx(a.mi,{children:"b"})}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"b"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"})]})})]})," can be calculated as:"]}),`
`,s.jsx(a.span,{className:"katex-display",children:s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{children:"="}),s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"S"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"+"}),s.jsx(a.mi,{children:"D"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"+"}),s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"E"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d = d(S, a) + D(a, b) + d(b, E)"})]})})}),s.jsxs(a.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(a.span,{className:"mrel",children:"="}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"+"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"+"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),s.jsx(a.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsxs(a.p,{children:["where ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"x"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"y"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(x, y)"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"x"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),s.jsx(a.span,{className:"mclose",children:")"})]})})]})," is the track length and ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"D"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"x"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"y"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"D(x, y)"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"x"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),s.jsx(a.span,{className:"mclose",children:")"})]})})]})," is the Manhattan distance (since walls are ignored during the cheat). The total time ",s.jsx(a.em,{children:"without"})," the cheat is:"]}),`
`,s.jsx(a.span,{className:"katex-display",children:s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{children:"="}),s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"S"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"+"}),s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"+"}),s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"E"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d = d(S, a) + d(a, b) + d(b, E)"})]})})}),s.jsxs(a.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(a.span,{className:"mrel",children:"="}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"+"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"+"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),s.jsx(a.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsxs(a.p,{children:["So the cheat works whenever ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"−"}),s.jsx(a.mi,{children:"D"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"≥"}),s.jsx(a.mn,{children:"100"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(a, b) - D(a, b) \\ge 100"})]})})}),s.jsxs(a.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"−"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(a.span,{className:"mrel",children:"≥"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(a.span,{className:"mord",children:"100"})]})]})]}),"."]}),`
`,s.jsxs(a.p,{children:['I first run a "pseudo-BFS" to calculate ',s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"S"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(S, a)"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mclose",children:")"})]})})]})," and ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"E"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(b, E)"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),s.jsx(a.span,{className:"mclose",children:")"})]})})]})," for all ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsx(a.mrow,{children:s.jsx(a.mi,{children:"a"})}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"a"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"})]})})]})," and ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsx(a.mrow,{children:s.jsx(a.mi,{children:"b"})}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"b"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"})]})})]}),". Because there's a single path, I didn't use a queue; I just find the next neighbor that hasn't been visited yet. The results are a ",s.jsx(a.code,{children:"distances"})," matrix recording ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"S"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(S, a)"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mclose",children:")"})]})})]})," for each ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsx(a.mrow,{children:s.jsx(a.mi,{children:"a"})}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"a"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"})]})})]}),", and a ",s.jsx(a.code,{children:"path"})," list of all points along the path. ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(a, b)"})]})})}),s.jsx(a.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"})]})})]})," can be derived by ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"S"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"−"}),s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"S"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{stretchy:"false",children:")"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(S, b) - d(S, a)"})]})})}),s.jsxs(a.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"−"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mclose",children:")"})]})]})]})," since the path is linear."]}),`
`,s.jsxs(a.p,{children:["For each point along the path, we can either use the cheat or not. When using a cheat, we can jump to any point that is within the radius of 2 (or 20 for part 2) measured in Manhattan distance. I just iterate over all points in this range, verifying that ",s.jsxs(a.span,{className:"katex",children:[s.jsx(a.span,{className:"katex-mathml",children:s.jsx(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(a.semantics,{children:[s.jsxs(a.mrow,{children:[s.jsx(a.mi,{children:"d"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"−"}),s.jsx(a.mi,{children:"D"}),s.jsx(a.mo,{stretchy:"false",children:"("}),s.jsx(a.mi,{children:"a"}),s.jsx(a.mo,{separator:"true",children:","}),s.jsx(a.mi,{children:"b"}),s.jsx(a.mo,{stretchy:"false",children:")"}),s.jsx(a.mo,{children:"≥"}),s.jsx(a.mn,{children:"100"})]}),s.jsx(a.annotation,{encoding:"application/x-tex",children:"d(a, b) - D(a, b) \\ge 100"})]})})}),s.jsxs(a.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"d"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(a.span,{className:"mbin",children:"−"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(a.span,{className:"mopen",children:"("}),s.jsx(a.span,{className:"mord mathnormal",children:"a"}),s.jsx(a.span,{className:"mpunct",children:","}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(a.span,{className:"mord mathnormal",children:"b"}),s.jsx(a.span,{className:"mclose",children:")"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(a.span,{className:"mrel",children:"≥"}),s.jsx(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(a.span,{className:"base",children:[s.jsx(a.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(a.span,{className:"mord",children:"100"})]})]})]}),"."]}),`
`,s.jsx(a.pre,{children:s.jsx(a.code,{className:"language-ocaml",children:`let num_working_cheats distances i j radius =
  let count = ref 0 in
  let h = Array.length distances in
  let w = Array.length distances.(0) in
  for ni = i - radius to i + radius do
    for nj = j - radius + abs (i - ni) to j + radius - abs (i - ni) do
      if ni < 0 || ni >= h || nj < 0 || nj >= w then ()
      else if
        distances.(ni).(nj) - distances.(i).(j)
        >= 100 + abs (i - ni) + abs (j - nj)
      then count := !count + 1
    done
  done;
  !count
`})}),`
`,s.jsx(r,{frontMatter:n})]})}function h(e={}){const{wrapper:a}={...m(),...e.components};return a?s.jsx(a,{...e,children:s.jsx(l,{...e})}):l(e)}export{h as default,n as frontMatter};
