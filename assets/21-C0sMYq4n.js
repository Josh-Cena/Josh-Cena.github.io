import{u as i,j as s}from"./index-Plw_Q2wT.js";import{P as m,a as t}from"./_components-CyBHRtnE.js";import"./_commonjsHelpers-Cpj98o6Y.js";const n={tags:["Mathematics"],title:"Advent of Code 2022 - Day 21: Monkey Math",description:"Advent of Code 2022 - Day 21: Monkey Math, a problem that involves Mathematics. Solution written in Haskell, with detailed walkthrough and proof.",year:2022,day:21};function l(a){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",p:"p",pre:"pre",semantics:"semantics",span:"span",...i(),...a.components};return s.jsxs(s.Fragment,{children:[s.jsxs(e.h1,{children:["Advent of Code 2022 - Day 21",s.jsx(e.span,{className:"subtitle",children:"Monkey Math"})]}),`
`,`
`,s.jsx(m,{frontMatter:n}),`
`,s.jsx(e.h2,{children:"Part 1"}),`
`,s.jsx(e.p,{children:"There are two kinds of monkeys: those that yell a number, and those that yell an expression. Therefore I parse the input as:"}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`data Monkey = Const Int | Operation Text Text Text deriving (Show)
`})}),`
`,s.jsxs(e.p,{children:["A ",s.jsx(e.code,{children:"Const"})," monkey just returns a number, while an ",s.jsx(e.code,{children:"Operation"})," monkey is ",s.jsx(e.code,{children:"left op right"}),". Now I can recursively evaluate:"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`type EvalRes = Ratio Int

evalMonkey :: Map Text Monkey -> Text -> EvalRes
evalMonkey monkeys name = case monkeys Map.! name of
  Const a -> fromIntegral a
  Operation left op right ->
    let leftVal = evalMonkey monkeys left
        rightVal = evalMonkey monkeys right
     in combineRes leftVal rightVal (T.unpack op)
`})}),`
`,s.jsxs(e.p,{children:["Where ",s.jsx(e.code,{children:"combineRes"})," just does the math:"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`combineRes :: EvalRes -> EvalRes -> String -> EvalRes
combineRes a b "+" = a + b
combineRes a b "-" = a - b
combineRes a b "*" = a * b
combineRes a b "/" = a / b
combineRes _ _ op = error $ "Invalid operation " ++ op
`})}),`
`,s.jsx(e.h2,{children:"Part 2"}),`
`,`
`,s.jsxs(e.p,{children:["Now the value of ",s.jsx(e.code,{children:"humn"})," is unknown, so basically we've turned a constant expression into a symbolic equation. For example, the example in part 1 looked like:"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-plain",children:`root (+)
├── pppw (/)
│   ├── cczh (+)
│   │   ├── sllz (4)
│   │   └── lgvd (*)
│   │       ├── ljgn (2)
│   │       └── ptdq (-)
│   │           ├── humn (5)
│   │           └── dvpt (3)
│   └── lfqf (4)
└── sjmn (*)
    ├── drzm (-)
    │   ├── hmdt (32)
    │   └── zczc (2)
    └── dbpl (5)
`})}),`
`,s.jsx(e.p,{children:"Which represents the equation:"}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"4"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mn,{children:"2"}),s.jsx(e.mo,{children:"∗"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"5"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"3"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mi,{mathvariant:"normal",children:"/"}),s.jsx(e.mn,{children:"4"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"32"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"2"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"∗"}),s.jsx(e.mn,{children:"5"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"(4 + 2 * (5 - 3)) / 4 + (32 - 2) * 5"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"4"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"∗"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"5"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord",children:"3"}),s.jsx(e.span,{className:"mclose",children:"))"}),s.jsx(e.span,{className:"mord",children:"/4"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"32"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"∗"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"5"})]})]})]})}),`
`,s.jsxs(e.p,{children:["Giving the answer of 152. Now with ",s.jsx(e.code,{children:"humn"})," unknown, we have:"]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"4"}),s.jsx(e.mo,{children:"+"}),s.jsx(e.mn,{children:"2"}),s.jsx(e.mo,{children:"∗"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"x"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"3"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mi,{mathvariant:"normal",children:"/"}),s.jsx(e.mn,{children:"4"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"32"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"2"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"∗"}),s.jsx(e.mn,{children:"5"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"(4 + 2 * (x - 3)) / 4 = (32 - 2) * 5"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"4"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"∗"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",children:"x"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord",children:"3"}),s.jsx(e.span,{className:"mclose",children:"))"}),s.jsx(e.span,{className:"mord",children:"/4"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"32"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"∗"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"5"})]})]})]})}),`
`,s.jsxs(e.p,{children:["And we need to solve for ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"x"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"x"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"x"})]})})]}),". This is just a matter of simplifying both sides and then isolating ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"x"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"x"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"x"})]})})]}),". To represent this equation, we need a new monkey type, ",s.jsx(e.code,{children:"Unknown"}),", to stand in for ",s.jsx(e.code,{children:"humn"}),":"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`data Monkey = Const Int | Unknown | Operation Text Text Text deriving (Show)
`})}),`
`,s.jsxs(e.p,{children:["Now ",s.jsx(e.code,{children:"EvalRes"})," is no longer just a number, but can also be an expression. I'm assuming that the expression is always linear in ",s.jsx(e.code,{children:"humn"}),", so I represent it as ",s.jsx(e.code,{children:"a * humn + b"}),":"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`type EvalRes = (Ratio Int, Ratio Int)

evalMonkey :: Map Text Monkey -> Text -> EvalRes
evalMonkey monkeys name = case monkeys Map.! name of
  Const a -> (0, fromIntegral a)
  Unknown -> (1, 0)
  Operation left op right ->
    let leftVal = evalMonkey monkeys left
        rightVal = evalMonkey monkeys right
     in combineRes leftVal rightVal (T.unpack op)
`})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.code,{children:"combineRes"})," now handles the algebra of two linear expressions, but nothing more than that. This means that multiplication only works if one of the expressions is a constant, and division only works if the denominator is a constant."]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`combineRes :: EvalRes -> EvalRes -> String -> EvalRes
combineRes (a1, b1) (a2, b2) "+" = (a1 + a2, b1 + b2)
combineRes (a1, b1) (a2, b2) "-" = (a1 - a2, b1 - b2)
combineRes (a1, b1) (0, b2) "*" = (a1 * b2, b1 * b2)
combineRes (0, b1) (a2, b2) "*" = (a2 * b1, b2 * b1)
combineRes (a1, b1) (0, b2) "/" = (a1 / b2, b1 / b2)
combineRes _ _ op = error $ "Invalid operation " ++ op
`})}),`
`,s.jsxs(e.p,{children:["Now we can evaluate the left and right sides of the equation, and then solve for ",s.jsx(e.code,{children:"humn"}),". The simplified equation looks like:"]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mi,{children:"x"}),s.jsx(e.mo,{children:"+"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mo,{children:"="}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mn,{children:"2"})]}),s.jsx(e.mi,{children:"x"}),s.jsx(e.mo,{children:"+"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mn,{children:"2"})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"a_1x + b_1 = a_2x + b_2"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.7333em",verticalAlign:"-0.15em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"1"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mord mathnormal",children:"x"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"b"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"1"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.7333em",verticalAlign:"-0.15em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"2"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mord mathnormal",children:"x"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"b"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"2"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})]})]})}),`
`,s.jsxs(e.p,{children:["(Well, in reality, ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"x"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"x"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"x"})]})})]})," only appears on one side, but it doesn't hurt to be a bit more general.) The solution is just:"]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"x"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mfrac,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mn,{children:"2"})]}),s.jsx(e.mo,{children:"−"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsxs(e.mrow,{children:[s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mo,{children:"−"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mn,{children:"2"})]})]})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"x = \\frac{b_2 - b_1}{a_1 - a_2}"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"x"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"2.2074em",verticalAlign:"-0.836em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mopen nulldelimiter"}),s.jsx(e.span,{className:"mfrac",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.3714em"},children:[s.jsxs(e.span,{style:{top:"-2.314em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"1"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"a"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"2"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})]}),s.jsxs(e.span,{style:{top:"-3.23em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),s.jsxs(e.span,{style:{top:"-3.677em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"b"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"2"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"b"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"1"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.836em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-hs",children:`let rootMonkey = monkeys Map.! T.pack "root"
let (leftName, rightName) = case rootMonkey of
      Operation left _ right -> (left, right)
      _ -> error "root should be binary"
let monkeys' = Map.insert (T.pack "humn") Unknown monkeys
let (a1, b1) = evalMonkey monkeys' leftName
let (a2, b2) = evalMonkey monkeys' rightName
let humn = (b2 - b1) / (a1 - a2)
`})}),`
`,s.jsx(t,{frontMatter:n})]})}function x(a={}){const{wrapper:e}={...i(),...a.components};return e?s.jsx(e,{...a,children:s.jsx(l,{...a})}):l(a)}export{x as default,n as frontMatter};
