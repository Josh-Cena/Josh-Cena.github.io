import{r as y,j}from"./index-DH0P7Lag.js";import"./_commonjsHelpers-Cpj98o6Y.js";function l(t,e){return Math.floor(Math.random()*(e-t)+t)}function g(t){for(let e=t.length-1;e>=0;e--){const o=l(0,e+1),c=t[e];t[e]=t[o],t[o]=c}}function C(t,e){return{x:e(t.x,"x"),y:e(t.y,"y")}}function p(t,e){return{x:e(t.x,"x"),y:e(t.y,"y"),z:e(t.z,"z")}}const m=[{x:-1,y:0},{x:0,y:-1},{x:0,y:1},{x:1,y:0}],h=[{x:-1,y:0,z:0},{x:0,y:-1,z:0},{x:0,y:0,z:-1},{x:1,y:0,z:0},{x:0,y:1,z:0},{x:0,y:0,z:1}];function*M(t,e){const o=[];o.push({x:l(0,t),y:l(0,t),z:l(0,t)});const c=Array.from({length:t},()=>Array.from({length:t},()=>Array.from({length:t},()=>!1)));for(;o.length>0;){const n=o.pop();c[n.x][n.y][n.z]||(yield p(n,a=>a/t),c[n.x][n.y][n.z]=!0),g(h);for(const a of h){const r=p(n,(s,f)=>s+a[f]);Object.values(r).every(s=>s>=0&&s<t)&&!c[r.x][r.y][r.z]&&o.push(r)}}}function*G(t,e){const o=[];o.push({x:l(0,t),y:l(0,t)});const c=Array.from({length:t},()=>Array.from({length:t},()=>!1));for(;o.length>0;){const n=o.pop();c[n.x][n.y]||(yield n,c[n.x][n.y]=!0),g(m);for(const a of m){const r=C(n,(s,f)=>s+a[f]);Object.values(r).every(s=>s>=0&&s<t)&&!c[r.x][r.y]&&o.push(r)}}}const v=256/4,z=Math.floor(Math.sqrt(v**3)),i=800,u=i/z;function E(){const t=y.useRef(null),e=y.useRef();return y.useEffect(()=>{const o=t.current.getContext("2d"),c=G(z),n=M(v);return e.current=requestAnimationFrame(function a(){for(let r=0;r<200;r++){const s=c.next(),f=n.next();if(s.done||f.done)return;const x=s.value,[R,d,A]=Object.values(f.value).map(b=>Math.floor(b*255));o.fillStyle=`rgb(${R}, ${d}, ${A})`,o.fillRect(x.x*u,x.y*u,u,u)}e.current=requestAnimationFrame(a)}),()=>cancelAnimationFrame(e.current)},[]),j.jsx("canvas",{ref:t,width:i,height:i})}const F={title:"Random Color",description:"Generates a map of random RGB colors"};export{E as default,F as meta};
