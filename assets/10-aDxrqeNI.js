import{u as i,j as s}from"./index-JVg7E-KF.js";import{F as m,a as t}from"./_components-4OamRaNd.js";const n={description:"Advent of Code 2020 - Day 10: Adapter Array. Written in Python.",tags:["Memoization","Dynamic programming"],year:2020,day:10,title:"AoC 2020 D10: Adapter Array"};function l(a){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",svg:"svg",...i(),...a.components};return s.jsxs(s.Fragment,{children:[s.jsx(e.h1,{children:"AoC 2020 D10: Adapter Array"}),`
`,`
`,s.jsx(m,{frontMatter:n}),`
`,s.jsx(e.h2,{children:"Part 1"}),`
`,s.jsxs(e.p,{children:["The problem essentially asks us to arrange some numbers into a non-decreasing sequence such that the difference between adjacent numbers is at most 3. We can sort the input numbers and prepend a 0 (the charging outlet) and append ",s.jsx(e.code,{children:"adapters[-1] + 3"})," (the device's built-in adapter). Then, we can just count the differences. NumPy makes this easy:"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-python",children:`adapters = sorted(map(int, data))
adapters = [0] + adapters + [adapters[-1] + 3]
diffs = np.diff(adapters)
ones = np.sum(diffs == 1)
threes = np.sum(diffs == 3)
`})}),`
`,s.jsx(e.h2,{children:"Part 2"}),`
`,s.jsx(e.p,{children:"I'm reluctant to call it Dynamic programming (what is dynamic programming anyway, if not just memoized recursion?), but that's the basic idea. Thinking recursively, the number of ways to reach a given adapter joltage is the sum of the number of ways to reach the previous 3 adapter joltages (if they exist):"}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"w"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"y"}),s.jsx(e.mi,{children:"s"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mrow,{children:[s.jsx(e.mo,{fence:"true",children:"{"}),s.jsxs(e.mtable,{rowspacing:"0.36em",columnalign:"left left",columnspacing:"1em",children:[s.jsxs(e.mtr,{children:[s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsx(e.mn,{children:"0"})})}),s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mtext,{children:" if "}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mo,{children:"∉"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"s"})]})]})})})]}),s.jsxs(e.mtr,{children:[s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsx(e.mn,{children:"1"})})}),s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsx(e.mtext,{children:" if "}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mi,{children:"min"}),s.jsx(e.mo,{children:"⁡"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"s"})]}),s.jsx(e.mo,{stretchy:"false",children:")"})]})})})]}),s.jsxs(e.mtr,{children:[s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsxs(e.mrow,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"w"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"y"}),s.jsx(e.mi,{children:"s"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"+"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"w"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"y"}),s.jsx(e.mi,{children:"s"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"2"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"+"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"w"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"y"}),s.jsx(e.mi,{children:"s"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"j"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"3"}),s.jsx(e.mo,{stretchy:"false",children:")"})]})})}),s.jsx(e.mtd,{children:s.jsx(e.mstyle,{scriptlevel:"0",displaystyle:"false",children:s.jsx(e.mtext,{children:" otherwise"})})})]})]})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`\\mathit{ways}(j) =
\\begin{cases}
0 &\\text{ if } j \\not\\in \\mathit{adapters} \\\\
1 &\\text{ if } j = \\min(\\mathit{adapters}) \\\\
\\mathit{ways}(j - 1) + \\mathit{ways}(j - 2) + \\mathit{ways}(j - 3) &\\text{ otherwise}
\\end{cases}`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathit",children:"ways"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"4.32em",verticalAlign:"-1.91em"}}),s.jsxs(e.span,{className:"minner",children:[s.jsx(e.span,{className:"mopen",children:s.jsx(e.span,{className:"delimsizing mult",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"2.35em"},children:[s.jsxs(e.span,{style:{top:"-2.2em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{className:"delimsizinginner delim-size4",children:s.jsx(e.span,{children:"⎩"})})]}),s.jsxs(e.span,{style:{top:"-2.192em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{style:{height:"0.316em",width:"0.8889em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"0.8889em",height:"0.316em",style:{width:"0.8889em"},viewBox:"0 0 888.89 316",preserveAspectRatio:"xMinYMin",children:s.jsx(e.path,{d:"M384 0 H504 V316 H384z M384 0 H504 V316 H384z"})})})]}),s.jsxs(e.span,{style:{top:"-3.15em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{className:"delimsizinginner delim-size4",children:s.jsx(e.span,{children:"⎨"})})]}),s.jsxs(e.span,{style:{top:"-4.292em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{style:{height:"0.316em",width:"0.8889em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"0.8889em",height:"0.316em",style:{width:"0.8889em"},viewBox:"0 0 888.89 316",preserveAspectRatio:"xMinYMin",children:s.jsx(e.path,{d:"M384 0 H504 V316 H384z M384 0 H504 V316 H384z"})})})]}),s.jsxs(e.span,{style:{top:"-4.6em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.15em"}}),s.jsx(e.span,{className:"delimsizinginner delim-size4",children:s.jsx(e.span,{children:"⎧"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.85em"},children:s.jsx(e.span,{})})})]})})}),s.jsx(e.span,{className:"mord",children:s.jsxs(e.span,{className:"mtable",children:[s.jsx(e.span,{className:"col-align-l",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"2.41em"},children:[s.jsxs(e.span,{style:{top:"-4.41em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord",children:"0"})})]}),s.jsxs(e.span,{style:{top:"-2.97em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord",children:"1"})})]}),s.jsxs(e.span,{style:{top:"-1.53em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathit",children:"ways"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathit",children:"ways"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"+"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathit",children:"ways"})}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mord",children:"3"}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.91em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"arraycolsep",style:{width:"1em"}}),s.jsx(e.span,{className:"col-align-l",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"2.41em"},children:[s.jsxs(e.span,{style:{top:"-4.41em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:" if "})}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:s.jsx(e.span,{className:"mord vbox",children:s.jsx(e.span,{className:"thinbox",children:s.jsxs(e.span,{className:"rlap",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),s.jsx(e.span,{className:"inner",children:s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mrel",children:""})})}),s.jsx(e.span,{className:"fix"})]})})})}),s.jsx(e.span,{className:"mrel",children:"∈"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathit",children:"adapters"})})]})]}),s.jsxs(e.span,{style:{top:"-2.97em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:" if "})}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mop",children:"min"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathit",children:"adapters"})}),s.jsx(e.span,{className:"mclose",children:")"})]})]}),s.jsxs(e.span,{style:{top:"-1.53em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.008em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord text",children:s.jsx(e.span,{className:"mord",children:" otherwise"})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.91em"},children:s.jsx(e.span,{})})})]})})]})}),s.jsx(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),`
`,s.jsxs(e.p,{children:["We can implement this directly with a recursive function, but it will recompute the same thing many times (for example, ",s.jsx(e.code,{children:"ways(5)"})," is depended on by ",s.jsx(e.code,{children:"ways(6)"}),", ",s.jsx(e.code,{children:"ways(7)"}),", and ",s.jsx(e.code,{children:"ways(8)"}),"). The simple solution is to add a memoization layer such as a dictionary or ",s.jsx(e.code,{children:"@functools.cache"}),". However I'm usually cautious about recursion due to stack depth limits, so I prefer to use a DP table instead:"]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-python",children:`ways = {adapters[0]: 1}
for adapter in adapters[1:]:
    ways[adapter] = (
        ways.get(adapter - 1, 0)
        + ways.get(adapter - 2, 0)
        + ways.get(adapter - 3, 0)
    )
`})}),`
`,s.jsxs(e.p,{children:["Now the answer is ",s.jsx(e.code,{children:"ways[adapters[-1]]"}),"."]}),`
`,s.jsx(t,{frontMatter:n})]})}function h(a={}){const{wrapper:e}={...i(),...a.components};return e?s.jsx(e,{...a,children:s.jsx(l,{...a})}):l(a)}export{h as default,n as frontMatter};
