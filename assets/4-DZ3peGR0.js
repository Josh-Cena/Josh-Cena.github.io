import{u as i,j as s}from"./index-DEJgW3cN.js";import{F as m,a as c}from"./_components-C_Mh6GSJ.js";const a={description:"Advent of Code 2023 - Day 4: Scratchcards. Written in R.",tags:[],year:2023,day:4,title:"AoC 2023 D4: Scratchcards"};function l(n){const e={annotation:"annotation",code:"code",h1:"h1",h2:"h2",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msup:"msup",p:"p",pre:"pre",semantics:"semantics",span:"span",...i(),...n.components};return s.jsxs(s.Fragment,{children:[s.jsx(e.h1,{children:"AoC 2023 D4: Scratchcards"}),`
`,`
`,s.jsx(m,{frontMatter:a}),`
`,s.jsx(e.h2,{children:"Part 1"}),`
`,s.jsxs(e.p,{children:["The score for each line is just the number of ",s.jsx(e.code,{children:"numbers"})," that are in ",s.jsx(e.code,{children:"winning"}),"."]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-R",children:`num_matches <- function(line) {
  winning <- line$winning
  numbers <- line$numbers
  length(numbers[numbers %in% winning])
}
`})}),`
`,s.jsxs(e.p,{children:["Because no match = 0, 1 match = 1 = ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsxs(e.msup,{children:[s.jsx(e.mn,{children:"2"}),s.jsx(e.mn,{children:"0"})]})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"2^0"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8141em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.8141em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"0"})})]})})})})})]})]})})]}),", ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"n"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"n"})]})})]})," matches = ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsxs(e.msup,{children:[s.jsx(e.mn,{children:"2"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"n"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"2^{n-1}"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8141em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.8141em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"n"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})})})})})]})]})})]}),", the score can be calculated as ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mo,{stretchy:"false",children:"⌊"}),s.jsxs(e.msup,{children:[s.jsx(e.mn,{children:"2"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"u"}),s.jsx(e.mi,{children:"m"}),s.jsx(e.mi,{mathvariant:"normal",children:"_"}),s.jsx(e.mi,{children:"m"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mi,{children:"h"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mi,{children:"s"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"l"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{stretchy:"false",children:"⌋"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"\\lfloor 2^{num\\_matches(line) - 1}\\rfloor"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.138em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"⌊"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.888em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"n"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"u"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"m"}),s.jsx(e.span,{className:"mord mtight",style:{marginRight:"0.02778em"},children:"_"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"ma"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"c"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"h"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"es"}),s.jsx(e.span,{className:"mopen mtight",children:"("}),s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"in"}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"e"}),s.jsx(e.span,{className:"mclose mtight",children:")"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})})})})})]}),s.jsx(e.span,{className:"mclose",children:"⌋"})]})})]})," (floor is needed because ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.msup,{children:[s.jsx(e.mn,{children:"2"}),s.jsxs(e.mrow,{children:[s.jsx(e.mn,{children:"0"}),s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"0.5"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"2^{0-1} = 0.5"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8141em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord",children:"2"}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.8141em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mtight",children:"0"}),s.jsx(e.span,{className:"mbin mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})})})})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"0.5"})]})]})]}),")."]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-R",children:`scores <- sapply(lines, num_matches)
scores <- floor(2^(scores - 1))
cat(sum(scores), "\\n")
`})}),`
`,s.jsx(e.h2,{children:"Part 2"}),`
`,s.jsxs(e.p,{children:["We can do bin counting of each scratchcard. Each card increments the ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"n"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"n"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"n"})]})})]})," cards following it by its own count."]}),`
`,s.jsx(e.pre,{children:s.jsx(e.code,{className:"language-R",children:`counts <- rep(1, length(lines))
for (i in seq_along(scores)) {
  if (scores[i] > 0) {
    for (j in (i + 1):(i + scores[i])) {
      counts[j] <- counts[j] + counts[i]
    }
  }
}
cat(sum(counts), "\\n")
`})}),`
`,s.jsx(c,{frontMatter:a})]})}function h(n={}){const{wrapper:e}={...i(),...n.components};return e?s.jsx(e,{...n,children:s.jsx(l,{...n})}):l(n)}export{h as default,a as frontMatter};
